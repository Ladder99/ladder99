<Device id="$deviceId" name="$deviceName" sampleInterval="$sampleInterval" uuid="$uuid">
  <Description manufacturer="CCS" model="Emergent-PA-Pneumatic" serialNumber="$serialNumber">Emergent Next Generation Print and Apply</Description>
  <!-- ids are postfixed with $deviceNum, names are prefixed with $deviceId. -->
  <!-- source and calc attributes are parsed and stripped from the xml before compilation -->
  <DataItems>
    <DataItem id="avail" name="availability" calc="types.AVAILABILITY[<availability>]" category="EVENT" type="AVAILABILITY"/>
    <DataItem id="cond" name="condition" calc="<has-hard-faults> ? 'FAULT' : <has-soft-faults> ? 'WARNING' : 'NORMAL'" category="CONDITION" type="SYSTEM"/>
    <!-- todo -->
    <DataItem id="msg" name="message" calc="?" category="EVENT" type="MESSAGE"/>
    <!-- how best indicate plain cache lookup? -->
    <DataItem id="build" name="build_no" calc="<build_no>" category="EVENT" type="FIRMWARE" subType="VERSION"/>
    <DataItem id="func" name="func_mode" calc="<has-faults> ? 'PRODUCTION' : 'MAINTENANCE'" category="EVENT" type="FUNCTIONAL_MODE"/>
    <DataItem id="chg" name="asset_changed" category="EVENT" type="ASSET_CHANGED" discrete="true"/>
    <DataItem id="rem" name="asset_removed" category="EVENT" type="ASSET_REMOVED"/>
  </DataItems>
  <Components>
    <Systems>
      <Components>
        <Electrical>
          <DataItems>
            <!-- inputs will be parsed and removed before compiling to devices.xml -->
            <Inputs>
              <Input name="control_power_warning" source=".Autoclave.Alarms.ControlPower\Condition" type="boolean" />
              <Input name="control_power_fault" source=".Autoclave.Alarms.ControlPower\AlarmActive" type="boolean" />
            </Inputs>
            <!-- calc attributes will be parsed and removed also -->
            <DataItem id="power" name="control_power_condition" calc="<control_power_fault> ? 'FAULT' : <control_power_warning> ? 'WARNING' : 'NORMAL'" category="CONDITION" type="VOLTAGE_DC" />
          </DataItems>
        </Electrical>
        <Cooling>
          <DataItems>
            <DataItem id="pump" name="cool_pump_a_hours" source=".Autoclave.Scripts.MotorHours.CoolPumpAOn\Value" category="SAMPLE" type="EQUIPMENT_TIME" subType="OPERATING" nativeScale="1" nativeUnits="SECOND" units="SECOND"/>
          </DataItems>
        </Cooling>
      </Components>
    </Systems>
  </Components>
</Device>
