# client setup

client:
  name: Example # not used yet
  timezone: America/Chicago # currently used by adapter jobboss driver and meter availability.js

# read by the ladder99 adapter
adapter:
  devices:
    - id: m # must match id in agent.xml
      name: Micro # this must match name in agent.cfg and agent.xml
      # sources define the inputs to the cache.
      sources:
        - module: micro # module defines inputs and outputs with yaml files
          driver: micro # adapter plugin - manages protocol and payload
      # where to post output - just uses first output for now
      connection:
        host: adapter # must match agent.cfg value
        port: 7890 # must match agent.cfg value

# relay reads this section to know what agents to read data from.
# warning: don't change the agent aliases (eg main) as they are used to synch data with db.
relay:
  # retention: 1wk # could specify a top-level retention for all agents here
  agents:
    - alias: Main # this is an arbitrary alias we assign to each agent, used by the db - don't change!
      url: http://agent:5000 # url to the agent
      # ignore: true # can specify this to turn agent recording on/off
      # retention: 2d # could clear all unneeded data at midnight - then vacuum analyze db?
      # without a list of devices here, relay would read all available in agent
      devices:
        - id: m
          alias: Microcontroller # as displayed in grafana - can change. without this, just use device name?
          # ignore: true # can specify this to turn device recording on/off
          # could override settings per dataitem -
          # dataitems:
          #   - id: m-os
          #     retention: 1d

    # - alias: mazak5701 # assigned agent alias - don't change!
    #   url: http://mtconnect.mazakcorp.com:5701
    #   devices:
    #     - id: d1
    #       alias: Mazak Mill 12345
