# -----------------------------------------------------------------------------
# MTConnect Agent configuration
# -----------------------------------------------------------------------------

#. this will be generated from setup.yaml,
# which specifies the devices and their tcp host/port.

# -----------------------------------------------------------------------------
# Top-level config
# https://github.com/mtconnect/cppagent#top-level-configuration-items
# -----------------------------------------------------------------------------

# Devices - The XML file to load that specifies the devices and is supplied 
# as the result of a probe request. If the key is not found the defaults are tried.
# Defaults: probe.xml or Devices.xml
Devices = /data/agent/agent.xml

# FilterDuplicates - If value is yes, filters all duplicate values for data items. 
# This is to support adapters that are not doing proper duplicate filtering.
# Default: no
FilterDuplicates = yes

# ReconnectInterval - The amount of time between adapter reconnection 
# attempts. This is useful for implementation of high performance adapters
# where availability needs to be tracked in near-real-time. Time is specified 
# in milliseconds (ms).
# Default: 10000

# IgnoreTimestamps - Overwrite timestamps with the agent time. This will 
# correct clock drift but will not give as accurate relative time since it will 
# not take into consideration network latencies. This can be overridden on 
# a per adapter basis.
# Default: false

# PreserveUUID - Do not overwrite the UUID with the UUID from the adapter, 
# preserve the UUID in the Devices.xml file. This can be overridden on a per 
# adapter basis.
# Default: true

# SchemaVersion - Change the schema version to a different version number.
# Default: 1.7

# Pretty - Pretty print the output with indententation
# Default: false

# ShdrVersion - Specifies the SHDR protocol version used by the adapter. 
# When greater than one (1), allows multiple complex observations, like 
# Condition and Message on the same line. If it equials one (1), then any 
# observation requiring more than a key/value pair need to be on separate 
# lines. This is the default for all adapters.
# Default: 1


# -----------------------------------------------------------------------------
# Adapter-specific config
# https://github.com/mtconnect/cppagent#adapter-configuration-items
# -----------------------------------------------------------------------------

# Adapters - Adapters begins a list of device blocks
Adapters {
   # adapter name here can be anything, if you override Device below
   adapter1 {
      # Device - The name of the device that corresponds to the name of the 
      # device in the Devices file. Each adapter can map to one device. 
      # Specifying a "*" will map to the default device.
      # Default: The name of the block for this adapter or if that is not found 
      # the default device if only one device is specified in the devices file.
      # this device value must match device name in agent.xml
      Device = pa1
      
      Host = adapter
      Port = 7878

      # Manufacturer - Replaces the manufacturer attribute in the device XML.
      # Default: Current value in device XML.

      # Station - Replaces the Station attribute in the device XML.
      # Default: Current value in device XML.

      # SerialNumber - Replaces the SerialNumber attribute in the device XML.
      # Default: Current value in device XML.

      # UUID - Replaces the UUID attribute in the device XML.
      # Default: Current value in device XML.

      # AdditionalDevices - Comma separated list of additional devices connected 
      # to this adapter. This provides availability support when one adapter feeds 
      # multiple devices.
      # Default: nothing

   } 

   # adapter2 {
   #    # this device value must match device name in agent.xml
   #    Device = pa2
   #    Host = adapter
   #    Port = 7879
   # } 
}


# -----------------------------------------------------------------------------
# Logger config
# https://github.com/mtconnect/cppagent#logger_config-configuration-items
# -----------------------------------------------------------------------------

logger_config {
   # logging_level - The logging level: trace, debug, info, warn, error, or fatal.
   # Default: info
   # logging_level = trace
   logging_level = debug
   # logging_level = info
   # logging_level = warn

   # output - The output file or stream. If using a file, specify as: 
   # "file <filename>". cout and cerr can be used to specify the standard output 
   # and standard error streams. Defaults to the same directory as the executable.
   # Default: file adapter.log
   # output = file agent.log

   # max_size - The maximum log file size. Suffix can be K for kilobytes, M for 
   # megabytes, or G for gigabytes. No suffix will default to bytes (B). Case is ignored.
   # Default: 10M

   # max_index - The maximum number of log files to keep.
   # Default: 9

   # schedule - The scheduled time to start a new file. Can be DAILY, 
   # WEEKLY, or NEVER.
   # Default: NEVER
}


# -----------------------------------------------------------------------------
# Files config
# https://github.com/mtconnect/cppagent#serving-static-content
# -----------------------------------------------------------------------------

# Each set of files must be declared using a named file description, like 
# schema or styles and the local Path and the Location the files will be 
# mapped to in the HTTP server namespace. 

# stylesheet location
Files {
   styles {
      Path = /etc/mtconnect/styles
      Location = /styles
   }
   Favicon {
      Path = /etc/mtconnect/styles/favicon.ico
      Location = /favicon.ico
   }
}

DevicesStyle { Location = /styles/styles.xsl }
StreamsStyle { Location = /styles/styles.xsl }
#. add these to styles.xsl -
# AssetsStyle { Location = /styles/styles.xsl }
# ErrorStyle { Location = /styles/styles.xsl }
