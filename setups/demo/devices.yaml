# this defines the devices.xml structure.

devices:

  ccs-pa-001:
    model: ccs-pa
    properties:
      uuid: e05363af-95d1-4354-b749-8fbb09d3499e
      serialNumber: 001
    sources:
      - name: ccs-mqtt
        url: mqtt://broker1:1883
        # host: broker1
        # port: 1883
    # sequences:
    #   startup: ccs-startup.js
    #   shutdown: ccs-shutdown.js
    # topics:
    #   read: l99/CCS123/evt/read
    #   status: l99/CCS123/evt/status
    # config:
    #   prefixDataItems: true

  ccs-camera-001:
    model: ccs-camera
    properties:
      uuid: e05363af-95d1-4354-b749-8fbb09d3499f
      serialNumber: 001
    sources:
      - name: ccs-mqtt
        host: broker2
        port: 1883

  ccs-pa-002:
    model: ccs-pa
    properties:
      uuid: e05363af-95d1-4354-b749-8fbb09d349a0
      serialNumber: 002
    sources:
      - name: ccs-mqtt
        host: broker3
        port: 1883

  asc-econoclave-001:
    model: asc-econoclave
    properties:
      uuid: e05363af-95d1-4354-b749-8fbb09d349a1
      serialNumber: 001
    sources:
      - name: cpc-socket
        host: cpc
        port: 1883
    tags:
      - key: .Autoclave.some.path\Value
        batch: 1
    # sequences:
    #   startup: cpc-startup.js
    #   shutdown: cpc-shutdown.js
    # config:
    #   prefixDataItems: true
    #   http://www.aschome.com/administrator/images/support/pdf/CPC%20-%20TCP%20Talker%20and%20Listener.pdf
    sockets:
      primary:
        ip: 192.168.2.2
        port: 9999
        poll: 5
      secondary:
        ip: 192.168.2.3
        port: 9999
        poll: 5
      # failover condition?
        # socket timeout
        # other?
        #   http://www.aschome.com/administrator/images/support/pdf/CPC%20-%20ServerBackup%20and%20PCA%20-%20PCB%20switching%20configuration.pdf
        #   http://www.aschome.com/administrator/images/support/pdf/67721.pdf
    batches:
      batch:
        - air_temp
        - alarm1
      batch:
        - alarm2
        - tc_1
      # purpose of batches is to limit the number of items requested each polling interval.  
      #  we might run into an issue whre polling 70 items at once is not possible

  ccs-pa-kepware1:
    model: ccs-pa
    properties:
      uuid: e05363af-95d1-4354-b749-8fbb09d3499e
      serialNumber: 001
    source:
      name: kepware-1
      # connection info here
    tags:
      - ns=1; s=[PLC]B3:3.6

  ccs-pa-kepware2:
    model: ccs-pa
    properties:
      uuid: e05363af-95d1-4354-b749-8fbb09d3499e
      serialNumber: 001
    source:
      name: kepware-2
      # connection info here
    tags:
      - ns=1; s=[PLC]B3:3.62