# setup for cpc autoclaves

#. will compile this with shell/compile
#. will compile to agent.cfg, agent.xml, compose-overrides.yaml, topology.dot?
#. include in ./start steps? ie always compile this file (or if changed)

devices:
  # --------------------------------------------------------------------
  # autoclave
  # --------------------------------------------------------------------
  - id: ac1 #. where used? constraints? why short?
    name: Autoclave1 # this must match name in agent.cfg and agent.xml

    # specify sources for dataitem values
    #. eg could have multiple thermometers for a machine, or doors?
    #. be careful with multiple sources - don't want to clobber dataitems.
    sources:
      - module: autoclave/asc # defines inputs/outputs - see modules/autoclave/asc
        driver: autoclave/cpc # adapter driver code - see services/adapter/src/drivers/autoclave - manages protocol and payload
        protocol: tcp
        # host: 10.20.30.101
        host: 10.1.10.211
        port: 9999

    destinations: # where to post output - just uses first output for now
      - protocol: shdr
        host: adapter
        port: 7878 # must match agent.cfg value
