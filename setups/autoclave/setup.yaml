# setup for cpc autoclaves

#. will compile this with sh/compile
#. will compile to agent.cfg, agent.xml, pipeline-overrides.yaml, topology.dot?
#. include in sh/start steps? ie always compile this file (or if changed)

devices:
  - id: ac1
    name: autoclave1 # this must match name in agent.cfg and agent.xml
    # module: autoclave/asc #. not used yet

    # specify sources for dataitem values
    #. eg could have multiple thermometers for a machine, or doors?
    #. be careful with multiple sources - don't want to clobber dataitems.
    sources:
      - module: autoclave/asc # defines inputs/outputs - see modules/autoclave/asc
        driver: autoclave/cpc # adapter driver code - see pipeline/adapter/src/drivers/autoclave - manages protocol and payload
        protocol: tcp
        host: 10.20.30.101
        port: 9999

    #. this should be server, not destinations - for agent to connect to
    destinations: # where to post output - just uses first output for now
      - protocol: shdr
        host: adapter
        port: 7878
