# oxbox setup

# define the devices.xml structure, using a model.xml for dataitems.
# read by the ladder99 adapter.

# sources define the inputs to the cache.
# will be compiled by ladder99 compiler into volumes/agent/agent.xml
# and volumes/agent/agent.cfg.

devices:
  - id: pa1 # this is substituted into the module.xml and sources
    name: pa1 # this must match name in agent.cfg and agent.xml
    uuid: e05363
    manufacturer: CCS
    model: CCS P&A
    serialNumber: '001'
    module: print-apply # for xml structure - see modules/print-apply/module.xml

    # define data sources that feed into this device
    sources:
      - module: print-apply # module defines inputs and outputs with yaml files
        driver: mqtt-json # adapter plugin - manages protocol and payload
        host: mosquitto
        port: 1883

      # - module: erp/plex # see modules/erp/plex/module.xml
      #   driver: erp/plex # see pipeline/adapter/src/plugins/erp/plex.js
      #   # host: erp-ip-address
      #   # port: erp-port

      # - module: micro
      #   driver: micro
      #   host: micro
      #   port: 8888

      # - module: hmi/rockwell
      #   driver: opc
      #   url: opc.tcp://simulator-opc:4334/UA/LittleServer
      #   path: /Device/Systems/Resources/Components

    destinations: # where to post output - just uses first output for now
      - protocol: shdr
        host: adapter
        port: 7878
